<!DOCTYPE html>
<html>
<head>
  <title>Admin Panel</title>
  <style>
    body{
      font-family: Arial;
      background:#020617;
      color:white;
      padding:20px;
    }
    table{
      width:100%;
      background:#1e293b;
      border-collapse:collapse;
    }
    th,td{
      padding:10px;
      border:1px solid #334155;
      text-align:center;
    }
    button{
      padding:6px 10px;
      border:none;
      border-radius:6px;
      cursor:pointer;
      color:white;
    }
    .approve{ background:#22c55e; }
    .reject{ background:#ef4444; }
    h2{ text-align:center; }
  </style>
</head>

<body>

<h2>Admin Panel</h2>
<h2>Create Tournament</h2>

<input type="text" id="matchName" placeholder="Match Name"><br><br>
<input type="number" id="entryFee" placeholder="Entry Fee ₹"><br><br>
<input type="number" id="perKill" placeholder="Per Kill ₹"><br><br>
<input type="number" id="prize" placeholder="Winner Prize ₹"><br><br>
<input type="datetime-local" id="matchTime"><br><br>

<button onclick="createTournament()">Start Tournament</button>

<script>
function createTournament(){
  const match = {
    name: document.getElementById("matchName").value,
    entry: document.getElementById("entryFee").value,
    kill: document.getElementById("perKill").value,
    prize: document.getElementById("prize").value,
    time: document.getElementById("matchTime").value
  };

  localStorage.setItem("tournament", JSON.stringify(match));
  alert("Tournament Created!");
}
</script>
<table>
<tr>
<th>Name</th>
<th>UID</th>
<th>Status</th>
<th>Action</th>
</tr>

<tbody id="playerTable"></tbody>

</table>

<script>

function loadPlayers(){

let players = JSON.parse(localStorage.getItem("players") || "[]");

let html="";

players.forEach((p,i)=>{

html+=`
<tr>
<td>${p.name}</td>
<td>${p.uid}</td>
<td>${p.status}</td>
<td>
<button class="approve" onclick="approve(${i})">Approve</button>
<button class="reject" onclick="reject(${i})">Reject</button>
</td>
</tr>
`;

});

document.getElementById("playerTable").innerHTML=html;

}

function approve(i){

let players = JSON.parse(localStorage.getItem("players"));
players[i].status="Approved";
localStorage.setItem("players",JSON.stringify(players));
loadPlayers();

}

function reject(i){

let players = JSON.parse(localStorage.getItem("players"));
players[i].status="Rejected";
localStorage.setItem("players",JSON.stringify(players));
loadPlayers();

}

loadPlayers();

</script>

</body>
</html>
