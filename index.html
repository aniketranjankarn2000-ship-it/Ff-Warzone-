<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Bharat Gamers League</title>

<style>
body{
  margin:0;
  font-family:Arial;
  background:#020617;
  color:white;
}

.section{
  background:#0f172a;
  margin:20px;
  padding:20px;
  border-radius:14px;
  box-shadow:0 0 20px cyan;
}

input,button{
  width:100%;
  padding:12px;
  margin:8px 0;
  border-radius:8px;
  border:none;
}

button{
  background:#22c55e;
  color:white;
  font-weight:bold;
}

.adminbtn{
  background:#ef4444;
}

</style>
</head>

<body>

<h2 style="text-align:center">BHARAT GAMERS LEAGUE</h2>

<!-- REGISTER -->
<div class="section">
<h3>Player Register</h3>
<input type="text" id="reguser" placeholder="username">
<input type="password" id="regPass" placeholder="Password">
<button onclick="register()">Register</button>
</div>

<!-- LOGIN -->
<div class="section">
<h3>Player Login</h3>
<input type="text" id="loginUid" placeholder="UID">
<input type="password" id="loginPass" placeholder="Password">
<button onclick="login()">Login</button>
</div>

<!-- ADMIN LOGIN -->
<div class="section">
<h3>Admin Login</h3>
<input type="text" id="adminId" placeholder="Admin ID">
<input type="password" id="adminPass" placeholder="Password">
<button class="adminbtn" onclick="adminLogin()">Admin Login</button>
</div>

<!-- TOURNAMENT -->
<div class="section">
<h3>Join Tournament</h3>

<p>Entry Fee: â‚¹50</p>
<p>Per Kill: â‚¹10</p>
<p>Winner Prize: â‚¹500</p>
<p>UPI: aniket8764@ptaxis</p>

<input type="file" id="screenshot">
<button onclick="joinTournament()">Upload & Join</button>

</div>

<!-- LEADERBOARD -->
<div class="section">
<h3>Leaderboard</h3>
<div id="leaderboard"></div>
</div>

<!-- ADMIN PANEL -->
<div class="section">
<h3>Admin Panel</h3>

<input type="text" id="matchName" placeholder="Match Name">
<input type="number" id="entryFee" placeholder="Entry Fee">
<input type="number" id="perKill" placeholder="Per Kill">
<input type="number" id="winnerPrize" placeholder="Winner Prize">

<button onclick="createTournament()">Create Tournament</button>

</div>


<script type="module">

import { initializeApp } from "https://www.gstatic.com/firebasejs/12.9.0/firebase-app.js";
import { getFirestore, collection, addDoc, getDocs } from "https://www.gstatic.com/firebasejs/12.9.0/firebase-firestore.js";

const firebaseConfig = {  
  apiKey: "AIzaSyB7rSLRGLtXVPpTTO2LNtKZ0E6Cw1R7JDQ",  
  authDomain: "bharat-gamers-league-9a331.firebaseapp.com",  
  projectId: "bharat-gamers-league-9a331",  
  storageBucket: "bharat-gamers-league-9a331.firebasestorage.app",  
  messagingSenderId: "297075265656",  
  appId: "1:297075265656:web:fa21ccb0be2191c0879d8d"  
};

const app = initializeApp(firebaseConfig);
const db = getFirestore(app);


// REGISTER
window.register = async function(){
  const uid = document.getElementById("regUid").value;
  const pass = document.getElementById("regPass").value;

  await addDoc(collection(db,"players"),{uid,pass});
  alert("Registered Successfully");
}

// LOGIN
window.login = async function(){
  alert("Login system live Firebase se connect hoga next update me");
}

// ADMIN LOGIN
window.adminLogin = function(){
  const id=document.getElementById("adminId").value;
  const pass=document.getElementById("adminPass").value;

  if(id==="Admin2009" && pass==="Aniket2009"){
    alert("Admin Login Success");
  }else{
    alert("Wrong admin");
  }
}


// CREATE TOURNAMENT
window.createTournament = async function(){
  const name=document.getElementById("matchName").value;
  const fee=document.getElementById("entryFee").value;
  const kill=document.getElementById("perKill").value;
  const prize=document.getElementById("winnerPrize").value;

  await addDoc(collection(db,"tournaments"),{name,fee,kill,prize});

  alert("Tournament Live Ho Gaya ðŸ”¥");
}


// JOIN
window.joinTournament = async function(){
  await addDoc(collection(db,"joins"),{status:"pending"});
  alert("Joined Successfully");
}


// LEADERBOARD LOAD
async function loadLeaderboard(){
  const querySnapshot = await getDocs(collection(db,"joins"));
  let html="";
  querySnapshot.forEach(doc=>{
    html += "<p>Player Joined</p>";
  });
  document.getElementById("leaderboard").innerHTML=html;
}

loadLeaderboard();

</script>

</body>
</html>
