<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>FF WARZONE</title>

<style>
body{
background:#000;
color:white;
font-family:Arial;
text-align:center;
margin:0;
}

h1{
color:red;
margin-top:20px;
}

.container{
padding:20px;
}

.box{
background:#111;
padding:20px;
border-radius:10px;
margin:20px auto;
max-width:400px;
}

input{
width:90%;
padding:12px;
margin:8px;
border-radius:8px;
border:none;
}

button{
padding:12px 20px;
border:none;
border-radius:8px;
background:red;
color:white;
font-size:16px;
cursor:pointer;
margin-top:10px;
}

table{
width:100%;
margin-top:20px;
border-collapse:collapse;
}

th,td{
padding:10px;
border-bottom:1px solid #333;
}

.approve{background:green;}
.reject{background:red;}
</style>
</head>

<body>

<h1>FF WARZONE</h1>

<div class="container">

<!-- HOME -->
<div id="home">
<button onclick="showPlayerLogin()">PLAYER LOGIN</button>
<button onclick="showAdminLogin()">ADMIN LOGIN</button>
</div>

<!-- PLAYER LOGIN -->
<div id="playerLogin" class="box" style="display:none">
<h2>Player Login</h2>
<input type="text" id="playerUser" placeholder="Username">
<input type="password" id="playerPass" placeholder="Password">
<button onclick="playerLogin()">Login</button>

<h3>Create Account</h3>
<input type="text" id="newUser" placeholder="Username">
<input type="password" id="newPass" placeholder="Password">
<button onclick="registerPlayer()">Register</button>
</div>

<!-- JOIN TOURNAMENT -->
<div id="joinBox" class="box" style="display:none">
<h2>Join Tournament</h2>

<p>Entry Fee: ₹20</p>
<p>Per Kill: ₹0.5</p>
<p>Winner Prize: ₹100</p>
<p>UPI: aniket8764@ptaxis</p>

<input type="text" id="playerName" placeholder="Player Name">
<input type="text" id="playerUID" placeholder="Free Fire UID">
<input type="text" id="txn" placeholder="Transaction ID">

<button onclick="joinTournament()">Submit</button>
</div>

<!-- ADMIN LOGIN -->
<div id="adminLogin" class="box" style="display:none">
<h2>Admin Login</h2>
<input type="text" id="adminUser" placeholder="Username">
<input type="password" id="adminPass" placeholder="Password">
<button onclick="adminLogin()">Login</button>
</div>

<!-- ADMIN PANEL -->
<div id="adminPanel" class="box" style="display:none">
<h2>Admin Panel</h2>

<h3>Create Tournament</h3>
<input type="number" id="entryFee" placeholder="Entry Fee">
<input type="number" id="perKill" placeholder="Per Kill">
<input type="number" id="prize" placeholder="Winner Prize">
<input type="text" id="upi" placeholder="UPI ID">
<button onclick="saveTournament()">Save</button>

<h3>Players</h3>
<table>
<tr>
<th>Name</th>
<th>UID</th>
<th>Status</th>
<th>Action</th>
</tr>
<tbody id="playerTable"></tbody>
</table>
</div>

</div>

<script>

// navigation
function showPlayerLogin(){
home.style.display="none";
playerLogin.style.display="block";
}

function showAdminLogin(){
home.style.display="none";
adminLogin.style.display="block";
}

// PLAYER REGISTER
function registerPlayer(){
localStorage.setItem(
document.getElementById("newUser").value,
document.getElementById("newPass").value
);
alert("Account created!");
}

// PLAYER LOGIN
function playerLogin(){
let u=document.getElementById("playerUser").value;
let p=document.getElementById("playerPass").value;

if(localStorage.getItem(u)==p){
playerLogin.style.display="none";
joinBox.style.display="block";
}else{
alert("Wrong login");
}
}

// JOIN
function joinTournament(){
let players=JSON.parse(localStorage.getItem("players")||"[]");

players.push({
name:playerName.value,
uid:playerUID.value,
status:"Pending"
});

localStorage.setItem("players",JSON.stringify(players));
alert("Joined! Wait for admin approval");
}

// ADMIN LOGIN
function adminLogin(){
if(adminUser.value=="admin" && adminPass.value=="1234"){
adminLogin.style.display="none";
adminPanel.style.display="block";
loadPlayers();
}else{
alert("Wrong admin login");
}
}

// SAVE TOURNAMENT
function saveTournament(){
localStorage.setItem("entry",entryFee.value);
localStorage.setItem("kill",perKill.value);
localStorage.setItem("prize",prize.value);
localStorage.setItem("upi",upi.value);
alert("Saved");
}

// LOAD PLAYERS
function loadPlayers(){
let players=JSON.parse(localStorage.getItem("players")||"[]");
let html="";

players.forEach((p,i)=>{
html+=`
<tr>
<td>${p.name}</td>
<td>${p.uid}</td>
<td>${p.status}</td>
<td>
<button class="approve" onclick="approve(${i})">Approve</button>
<button class="reject" onclick="reject(${i})">Reject</button>
</td>
</tr>`;
});

playerTable.innerHTML=html;
}

// APPROVE
function approve(i){
let players=JSON.parse(localStorage.getItem("players"));
players[i].status="Approved";
localStorage.setItem("players",JSON.stringify(players));
loadPlayers();
}

// REJECT
function reject(i){
let players=JSON.parse(localStorage.getItem("players"));
players[i].status="Rejected";
localStorage.setItem("players",JSON.stringify(players));
loadPlayers();
}

</script>

</body>
</html>
